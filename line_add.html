<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Admin Dashboard </title>
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="./images/favicon.png">
    <link rel="stylesheet" href="./vendor/owl-carousel/css/owl.carousel.min.css">
    <link rel="stylesheet" href="./vendor/owl-carousel/css/owl.theme.default.min.css">
    <link href="./vendor/jqvmap/css/jqvmap.min.css" rel="stylesheet">
    <link href="./css/style.css" rel="stylesheet">   
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
        <!-- Datatable -->
        <link href="./vendor/datatables/css/jquery.dataTables.min.css" rel="stylesheet">
            <!-- Custom Stylesheet -->
    <link href="./css/style.css" rel="stylesheet">
    <!-- <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: left;
        }
        tr:hover {
            background-color: red;
            color: purple;
        }
        .selected {
            background-color: gray;
            color: white;
        }
        .selected-stations {
            display: flex;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        .station-button {
            border: 1px solid #000;
            padding: 10px;
            margin: 5px;
            cursor: move;
            background-color: #f0f0f0;
            border-radius: 5px;
            width: 100px; /* 固定宽度 */
            text-align: center;
        }
        .station-button.over {
            border: 2px dashed #007bff; /* 拖动时高亮 */
        }
        .pagination {
            margin-top: 10px;
            display: flex;
            align-items: center;
        }
        .pagination button {
            margin: 0 5px;
            padding: 5px 10px;
            border: none;
            background-color: #007bff;
            color: white;
            border-radius: 5px;
            cursor: pointer;
        }
        .pagination button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        .pagination span {
            margin: 0 5px;
        }
    </style> -->
    <!-- table style: -->
        <style>
            tr:hover {
                background-color: purple;
                color: purple;
            }
            .selected {
                background-color: gray;
                color: violet;
            }
        </style>
    <style>
        .highlight {
            font-size: 32px;
            color: orange; /* 已标亮颜色 */
        }
        .bus-icon {
            font-size: 32px;
            color: green; /* 未标亮颜色 */
        }
        .bus-maintain {
            font-size: 32px;
            color: grey;
        }
        .bus-build {
            font-size: 32px;
            color: blueviolet;
        }
    </style> 

    <!--style of this page-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        #map {
            height: 300px; /* 地图高度 */
            width: 100%; /* 地图宽度 */
            margin-top: 20px; /* 与表单的间距 */
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>

<body>

    <!--*******************
        Preloader start
    ********************-->
    <div id="preloader">
        <div class="sk-three-bounce">
            <div class="sk-child sk-bounce1"></div>
            <div class="sk-child sk-bounce2"></div>
            <div class="sk-child sk-bounce3"></div>
        </div>
    </div>
    <!--*******************
        Preloader end
    ********************-->


    <!--**********************************
        Main wrapper start
    ***********************************-->
    <div id="main-wrapper">

        <!--**********************************
            Nav header start
        ***********************************-->
        <div class="nav-header">
            <a href="index.html" class="brand-logo">
                <img class="logo-abbr" src="./images/logo.png" alt="">
                <img class="logo-compact" src="./images/logo-text.png" alt="">
                <img class="brand-title" src="./images/logo-text.png" alt="">
            </a>

        </div>
        <!--**********************************
            Nav header end
        ***********************************-->


        <!--**********************************
            Header start
        ***********************************-->
        <div class="header">
            <div class="header-content">
                <nav class="navbar navbar-expand">
                    <div class="collapse navbar-collapse justify-content-between">
                        <div class="header-left">
                            <div class="search_bar dropdown">
                                <span class="search_icon p-3 c-pointer" data-toggle="dropdown">
                                    <i class="mdi mdi-magnify"></i>
                                </span>
                                <div class="dropdown-menu p-0 m-0">
                                    <form>
                                        <input class="form-control" type="search" placeholder="Search" aria-label="Search">
                                    </form>
                                </div>
                            </div>
                        </div>

                        <ul class="navbar-nav header-right">
                            <li class="nav-item dropdown notification_dropdown">
                                <a class="nav-link" href="#" role="button" data-toggle="dropdown">
                                    <i class="mdi mdi-bell"></i>
                                    <div class="pulse-css"></div>
                                </a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <ul class="list-unstyled">
                                        <li class="media dropdown-item">
                                            <span class="success"><i class="ti-user"></i></span>
                                            <div class="media-body">
                                                <a href="#">
                                                    <p><strong>Martin</strong> has added a <strong>customer</strong> Successfully
                                                    </p>
                                                </a>
                                            </div>
                                            <span class="notify-time">3:20 am</span>
                                        </li>
                                        <li class="media dropdown-item">
                                            <span class="primary"><i class="ti-shopping-cart"></i></span>
                                            <div class="media-body">
                                                <a href="#">
                                                    <p><strong>Jennifer</strong> purchased Light Dashboard 2.0.</p>
                                                </a>
                                            </div>
                                            <span class="notify-time">3:20 am</span>
                                        </li>
                                        <li class="media dropdown-item">
                                            <span class="danger"><i class="ti-bookmark"></i></span>
                                            <div class="media-body">
                                                <a href="#">
                                                    <p><strong>Robin</strong> marked a <strong>ticket</strong> as unsolved.
                                                    </p>
                                                </a>
                                            </div>
                                            <span class="notify-time">3:20 am</span>
                                        </li>
                                        <li class="media dropdown-item">
                                            <span class="primary"><i class="ti-heart"></i></span>
                                            <div class="media-body">
                                                <a href="#">
                                                    <p><strong>David</strong> purchased Light Dashboard 1.0.</p>
                                                </a>
                                            </div>
                                            <span class="notify-time">3:20 am</span>
                                        </li>
                                        <li class="media dropdown-item">
                                            <span class="success"><i class="ti-image"></i></span>
                                            <div class="media-body">
                                                <a href="#">
                                                    <p><strong> James.</strong> has added a<strong>customer</strong> Successfully
                                                    </p>
                                                </a>
                                            </div>
                                            <span class="notify-time">3:20 am</span>
                                        </li>
                                    </ul>
                                    <a class="all-notification" href="#">See all notifications <i
                                            class="ti-arrow-right"></i></a>
                                </div>
                            </li>
                            <li class="nav-item dropdown header-profile">
                                <a class="nav-link" href="#" role="button" data-toggle="dropdown">
                                    <i class="mdi mdi-account"></i>
                                </a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <a href="./page-login.html" class="dropdown-item">
                                        <i class="icon-key"></i>
                                        <span class="ml-2">Logout </span>
                                    </a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
        <!--**********************************
            Header end ti-comment-alt
        ***********************************-->

        <!--**********************************
            Sidebar start
        ***********************************-->
        <div class="quixnav">
            <div class="quixnav-scroll">
                <ul class="metismenu" id="menu">
                    <li class="nav-label first">主页</li>
                    <li><a class="has-arrow" href="javascript:void()" aria-expanded="false"><i
                                class="icon icon-single-04"></i><span class="nav-text">使用</span></a>
                        <ul aria-expanded="false">
                            <li><a href="./index.html">站点地图</a></li>
                            <li><a href="./index2.html">路线规划</a></li>
                        </ul>
                    </li>
                    <li class="nav-label">人力</li>
                    <li><a class="has-arrow" href="javascript:void()" aria-expanded="false"><i
                                class="icon icon-app-store"></i><span class="nav-text">部门</span></a>
                        <ul aria-expanded="false">
                            <li><a href="./app-profile.html">所有部门</a></li>
                            <li><a class="has-arrow" href="javascript:void()" aria-expanded="false">Email</a>
                                <ul aria-expanded="false">
                                    <li><a href="./email-compose.html">Compose</a></li>
                                    <li><a href="./email-inbox.html">Inbox</a></li>
                                    <li><a href="./email-read.html">Read</a></li>
                                </ul>
                            </li>
                            <li><a href="./app-calender.html">Calendar</a></li>
                        </ul>
                    </li>
                    <li><a class="has-arrow" href="javascript:void()" aria-expanded="false"><i
                                class="icon icon-chart-bar-33"></i><span class="nav-text">员工</span></a>
                        <ul aria-expanded="false">
                            <li><a href="./chart-flot.html">所有员工</a></li>
                            <li><a href="./chart-morris.html">添加员工</a></li>
                            <li><a href="./chart-morris.html">管理员工</a></li>
                        </ul>
                    </li>
                    <li class="nav-label">公交</li>
                    <li><a class="has-arrow" href="javascript:void()" aria-expanded="false"><i
                                class="icon icon-world-2"></i><span class="nav-text">线路</span></a>
                        <ul aria-expanded="false">
                            <li><a href="./ui-accordion.html">查看线路</a></li>
                            <li><a href="./line_add.html">添加线路</a></li>
                            <li><a href="./ui-alert.html">修改线路</a></li>
                        </ul>
                    </li>

                    <li><a class="has-arrow" href="javascript:void()" aria-expanded="false"><i
                                class="icon icon-plug"></i><span class="nav-text">站点</span></a>
                        <ul aria-expanded="false">
                            <li><a href="./uc-select2.html">站点数据</a></li>
                            <li><a href="./station_add.html">添加站点</a></li>
                            <li><a href="./station_manage.html">管理站点</a></li>
                        </ul>
                    </li>

                    <li><a class="has-arrow" href="javascript:void()" aria-expanded="false"><i
                        class="icon icon-user"></i><span class="nav-text">车辆</span></a>
                <ul aria-expanded="false">
                    <li><a href="./uc-select2.html">查看车辆</a></li>
                    <li><a href="./uc-nestable.html">添加车辆</a></li>
                    <li><a href="./form-element.html">管理车辆</a></li>
                </ul>
                    </li>

                    
                    

                    <li class="nav-label">其他</li>
                    <li><a class="has-arrow" href="javascript:void()" aria-expanded="false"><i
                                class="icon icon-single-copy-06"></i><span class="nav-text">Pages</span></a>
                        <ul aria-expanded="false">
                            <li><a href="./page-register.html">Register</a></li>
                            <li><a href="./page-login.html">Login</a></li>
                            <li><a class="has-arrow" href="javascript:void()" aria-expanded="false">Error</a>
                                <ul aria-expanded="false">
                                    <li><a href="./page-error-400.html">Error 400</a></li>
                                    <li><a href="./page-error-403.html">Error 403</a></li>
                                    <li><a href="./page-error-404.html">Error 404</a></li>
                                    <li><a href="./page-error-500.html">Error 500</a></li>
                                    <li><a href="./page-error-503.html">Error 503</a></li>
                                </ul>
                            </li>
                            <li><a href="./page-lock-screen.html">Lock Screen</a></li>
                        </ul>
                    </li>
                </ul>
            </div>


        </div>
        <!--**********************************
            Sidebar end
        ***********************************-->    
        <!--**********************************
            Content body start
        ***********************************-->
        
        <div class="content-body">
            <div class="container-fluid">
                <div class="row page-titles mx-0">
                    <div class="col-sm-6 p-md-0">
                        <div class="welcome-text">
                            <h4>添加线路</h4>
                            <span class="ml-1">输入线路信息</span>
                        </div>
                    </div>
                    <div class="col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="javascript:void(0)">线路</a></li>
                            <li class="breadcrumb-item active"><a href="javascript:void(0)">添加线路</a></li>
                        </ol>
                    </div>
                </div>
                <!-- row -->

                

                <div class="row" id="part-1" style="display: none;">
                    <div class="col-xl-6 col-xxl-12">
                        <div id="card-1" class="card">
                            <div class="card-header">
                                <h4 class="card-title">基本信息</h4>
                            </div>
                            <div class="card-body">
                                <div class="basic-form">
                                    <form>

                                        <div class="form-row">
                                            <div class="form-group col-md-6">
                                                <label>线路号</label>
                                                <input id="Number" type="text" class="form-control" placeholder="请输入线路号" required="true">
                                            </div>
                                            <div class="form-group col-md-6">
                                            </div>
                                            <div class="form-group col-md-6">
                                                <label>发车时间</label>
                                                <div class="input-group clockpicker">
                                                    <input id="startTime" required="true" type="text" class="form-control" value="08:00"> <span class="input-group-append"><span class="input-group-text"><i
                                                                class="fa fa-clock-o"></i></span></span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-6">
                                                <label>休车时间</label>
                                                <div class="input-group clockpicker">
                                                    <input id="endTime" required="true" type="text" class="form-control" value="10:30"> <span class="input-group-append"><span class="input-group-text"><i
                                                                class="fa fa-clock-o"></i></span></span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-6">
                                                <label>票价</label>
                                                <input id="Price" type="text" class="form-control" placeholder="请输入票价" required="true">
                                            </div>
                                            <div class="form-group col-md-6">
                                            </div>
                                            <div class="form-group col-md-6">
                                                <label>描述</label>
                                                <textarea id="Description" class="form-control" rows="4" id="comment" required="true" placeholder="请输入线路描述"></textarea>
                                            </div>
                                        </div>
                                        <!-- <div class="form-row">
                                            <div class="form-group col-md-4">
                                                <label>State</label>
                                                <select id="inputState" class="form-control">
                                                    <option selected>Choose...</option>
                                                    <option>Option 1</option>
                                                    <option>Option 2</option>
                                                    <option>Option 3</option>
                                                </select>
                                            </div>
                                            <div class="form-group col-md-2">
                                                <label>Zip</label>
                                                <input type="text" class="form-control">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox">
                                                <label class="form-check-label">
                                                    Check me out
                                                </label>
                                            </div>
                                        </div> -->
                                        <button type="submit" class="btn btn-primary">下一步</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                

                <div class="row" id="part-2">
                    
                    <div class="col-xl-6 col-xxl-6 col-sm-6" >
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">选择沿途站点</h4>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    
                                    <!-- <table id="example" class="display" style="min-width: 845px"> -->
                                    <table id="example" class="display" >
                                        <thead>
                                            <tr>
                                                <th>站名</th>
                                                <th>区域</th>
                                                <th>状态</th>
                                                <th>位置</th>
                                            </tr>
                                        </thead>
                                        <!-- <tbody>
                                            <tr>
                                                <td>Tiger Nixon</td>
                                                <td>System Architect</td>
                                                <td>Edinburgh</td>
                                                <td>61</td>
                                                <td>2011/04/25</td>
                                                <td>$320,800</td>
                                            </tr>
                                            <tr>
                                                <td>Garrett Winters</td>
                                                <td>Accountant</td>
                                                <td>Tokyo</td>
                                                <td>63</td>
                                                <td>2011/07/25</td>
                                                <td>$170,750</td>
                                            </tr>
                                            <tr>
                                                <td>Ashton Cox</td>
                                                <td>Junior Technical Author</td>
                                                <td>San Francisco</td>
                                                <td>66</td>
                                                <td>2009/01/12</td>
                                                <td>$86,000</td>
                                            </tr>
                                            <tr>
                                                <td>Cedric Kelly</td>
                                                <td>Senior Javascript Developer</td>
                                                <td>Edinburgh</td>
                                                <td>22</td>
                                                <td>2012/03/29</td>
                                                <td>$433,060</td>
                                            </tr>
                                            <tr>
                                                <td>Airi Satou</td>
                                                <td>Accountant</td>
                                                <td>Tokyo</td>
                                                <td>33</td>
                                                <td>2008/11/28</td>
                                                <td>$162,700</td>
                                            </tr>
                                            <tr>
                                                <td>Brielle Williamson</td>
                                                <td>Integration Specialist</td>
                                                <td>New York</td>
                                                <td>61</td>
                                                <td>2012/12/02</td>
                                                <td>$372,000</td>
                                            </tr>
                                            <tr>
                                                <td>Herrod Chandler</td>
                                                <td>Sales Assistant</td>
                                                <td>San Francisco</td>
                                                <td>59</td>
                                                <td>2012/08/06</td>
                                                <td>$137,500</td>
                                            </tr>
                                            <tr>
                                                <td>Rhona Davidson</td>
                                                <td>Integration Specialist</td>
                                                <td>Tokyo</td>
                                                <td>55</td>
                                                <td>2010/10/14</td>
                                                <td>$327,900</td>
                                            </tr>
                                            <tr>
                                                <td>Colleen Hurst</td>
                                                <td>Javascript Developer</td>
                                                <td>San Francisco</td>
                                                <td>39</td>
                                                <td>2009/09/15</td>
                                                <td>$205,500</td>
                                            </tr>
                                            <tr>
                                                <td>Sonya Frost</td>
                                                <td>Software Engineer</td>
                                                <td>Edinburgh</td>
                                                <td>23</td>
                                                <td>2008/12/13</td>
                                                <td>$103,600</td>
                                            </tr>
                                            <tr>
                                                <td>Jena Gaines</td>
                                                <td>Office Manager</td>
                                                <td>London</td>
                                                <td>30</td>
                                                <td>2008/12/19</td>
                                                <td>$90,560</td>
                                            </tr>
                                            <tr>
                                                <td>Quinn Flynn</td>
                                                <td>Support Lead</td>
                                                <td>Edinburgh</td>
                                                <td>22</td>
                                                <td>2013/03/03</td>
                                                <td>$342,000</td>
                                            </tr>
                                            <tr>
                                                <td>Charde Marshall</td>
                                                <td>Regional Director</td>
                                                <td>San Francisco</td>
                                                <td>36</td>
                                                <td>2008/10/16</td>
                                                <td>$470,600</td>
                                            </tr>
                                            <tr>
                                                <td>Haley Kennedy</td>
                                                <td>Senior Marketing Designer</td>
                                                <td>London</td>
                                                <td>43</td>
                                                <td>2012/12/18</td>
                                                <td>$313,500</td>
                                            </tr>
                                            <tr>
                                                <td>Tatyana Fitzpatrick</td>
                                                <td>Regional Director</td>
                                                <td>London</td>
                                                <td>19</td>
                                                <td>2010/03/17</td>
                                                <td>$385,750</td>
                                            </tr>
                                            <tr>
                                                <td>Michael Silva</td>
                                                <td>Marketing Designer</td>
                                                <td>London</td>
                                                <td>66</td>
                                                <td>2012/11/27</td>
                                                <td>$198,500</td>
                                            </tr>
                                            <tr>
                                                <td>Paul Byrd</td>
                                                <td>Chief Financial Officer (CFO)</td>
                                                <td>New York</td>
                                                <td>64</td>
                                                <td>2010/06/09</td>
                                                <td>$725,000</td>
                                            </tr>
                                            <tr>
                                                <td>Gloria Little</td>
                                                <td>Systems Administrator</td>
                                                <td>New York</td>
                                                <td>59</td>
                                                <td>2009/04/10</td>
                                                <td>$237,500</td>
                                            </tr>
                                            <tr>
                                                <td>Bradley Greer</td>
                                                <td>Software Engineer</td>
                                                <td>London</td>
                                                <td>41</td>
                                                <td>2012/10/13</td>
                                                <td>$132,000</td>
                                            </tr>
                                            <tr>
                                                <td>Dai Rios</td>
                                                <td>Personnel Lead</td>
                                                <td>Edinburgh</td>
                                                <td>35</td>
                                                <td>2012/09/26</td>
                                                <td>$217,500</td>
                                            </tr>
                                            <tr>
                                                <td>Jenette Caldwell</td>
                                                <td>Development Lead</td>
                                                <td>New York</td>
                                                <td>30</td>
                                                <td>2011/09/03</td>
                                                <td>$345,000</td>
                                            </tr>
                                            <tr>
                                                <td>Yuri Berry</td>
                                                <td>Chief Marketing Officer (CMO)</td>
                                                <td>New York</td>
                                                <td>40</td>
                                                <td>2009/06/25</td>
                                                <td>$675,000</td>
                                            </tr>
                                            <tr>
                                                <td>Caesar Vance</td>
                                                <td>Pre-Sales Support</td>
                                                <td>New York</td>
                                                <td>21</td>
                                                <td>2011/12/12</td>
                                                <td>$106,450</td>
                                            </tr>
                                            <tr>
                                                <td>Doris Wilder</td>
                                                <td>Sales Assistant</td>
                                                <td>Sidney</td>
                                                <td>23</td>
                                                <td>2010/09/20</td>
                                                <td>$85,600</td>
                                            </tr>
                                            <tr>
                                                <td>Angelica Ramos</td>
                                                <td>Chief Executive Officer (CEO)</td>
                                                <td>London</td>
                                                <td>47</td>
                                                <td>2009/10/09</td>
                                                <td>$1,200,000</td>
                                            </tr>
                                            <tr>
                                                <td>Gavin Joyce</td>
                                                <td>Developer</td>
                                                <td>Edinburgh</td>
                                                <td>42</td>
                                                <td>2010/12/22</td>
                                                <td>$92,575</td>
                                            </tr>
                                            <tr>
                                                <td>Jennifer Chang</td>
                                                <td>Regional Director</td>
                                                <td>Singapore</td>
                                                <td>28</td>
                                                <td>2010/11/14</td>
                                                <td>$357,650</td>
                                            </tr>
                                            <tr>
                                                <td>Brenden Wagner</td>
                                                <td>Software Engineer</td>
                                                <td>San Francisco</td>
                                                <td>28</td>
                                                <td>2011/06/07</td>
                                                <td>$206,850</td>
                                            </tr>
                                            <tr>
                                                <td>Fiona Green</td>
                                                <td>Chief Operating Officer (COO)</td>
                                                <td>San Francisco</td>
                                                <td>48</td>
                                                <td>2010/03/11</td>
                                                <td>$850,000</td>
                                            </tr>
                                            <tr>
                                                <td>Shou Itou</td>
                                                <td>Regional Marketing</td>
                                                <td>Tokyo</td>
                                                <td>20</td>
                                                <td>2011/08/14</td>
                                                <td>$163,000</td>
                                            </tr>
                                            <tr>
                                                <td>Michelle House</td>
                                                <td>Integration Specialist</td>
                                                <td>Sidney</td>
                                                <td>37</td>
                                                <td>2011/06/02</td>
                                                <td>$95,400</td>
                                            </tr>
                                            <tr>
                                                <td>Suki Burks</td>
                                                <td>Developer</td>
                                                <td>London</td>
                                                <td>53</td>
                                                <td>2009/10/22</td>
                                                <td>$114,500</td>
                                            </tr>
                                            <tr>
                                                <td>Prescott Bartlett</td>
                                                <td>Technical Author</td>
                                                <td>London</td>
                                                <td>27</td>
                                                <td>2011/05/07</td>
                                                <td>$145,000</td>
                                            </tr>
                                            <tr>
                                                <td>Gavin Cortez</td>
                                                <td>Team Leader</td>
                                                <td>San Francisco</td>
                                                <td>22</td>
                                                <td>2008/10/26</td>
                                                <td>$235,500</td>
                                            </tr>
                                            <tr>
                                                <td>Martena Mccray</td>
                                                <td>Post-Sales support</td>
                                                <td>Edinburgh</td>
                                                <td>46</td>
                                                <td>2011/03/09</td>
                                                <td>$324,050</td>
                                            </tr>
                                            <tr>
                                                <td>Unity Butler</td>
                                                <td>Marketing Designer</td>
                                                <td>San Francisco</td>
                                                <td>47</td>
                                                <td>2009/12/09</td>
                                                <td>$85,675</td>
                                            </tr>
                                            <tr>
                                                <td>Howard Hatfield</td>
                                                <td>Office Manager</td>
                                                <td>San Francisco</td>
                                                <td>51</td>
                                                <td>2008/12/16</td>
                                                <td>$164,500</td>
                                            </tr>
                                            <tr>
                                                <td>Hope Fuentes</td>
                                                <td>Secretary</td>
                                                <td>San Francisco</td>
                                                <td>41</td>
                                                <td>2010/02/12</td>
                                                <td>$109,850</td>
                                            </tr>
                                            <tr>
                                                <td>Vivian Harrell</td>
                                                <td>Financial Controller</td>
                                                <td>San Francisco</td>
                                                <td>62</td>
                                                <td>2009/02/14</td>
                                                <td>$452,500</td>
                                            </tr>
                                            <tr>
                                                <td>Timothy Mooney</td>
                                                <td>Office Manager</td>
                                                <td>London</td>
                                                <td>37</td>
                                                <td>2008/12/11</td>
                                                <td>$136,200</td>
                                            </tr>
                                            <tr>
                                                <td>Jackson Bradshaw</td>
                                                <td>Director</td>
                                                <td>New York</td>
                                                <td>65</td>
                                                <td>2008/09/26</td>
                                                <td>$645,750</td>
                                            </tr>
                                            <tr>
                                                <td>Olivia Liang</td>
                                                <td>Support Engineer</td>
                                                <td>Singapore</td>
                                                <td>64</td>
                                                <td>2011/02/03</td>
                                                <td>$234,500</td>
                                            </tr>
                                            <tr>
                                                <td>Bruno Nash</td>
                                                <td>Software Engineer</td>
                                                <td>London</td>
                                                <td>38</td>
                                                <td>2011/05/03</td>
                                                <td>$163,500</td>
                                            </tr>
                                            <tr>
                                                <td>Sakura Yamamoto</td>
                                                <td>Support Engineer</td>
                                                <td>Tokyo</td>
                                                <td>37</td>
                                                <td>2009/08/19</td>
                                                <td>$139,575</td>
                                            </tr>
                                            <tr>
                                                <td>Thor Walton</td>
                                                <td>Developer</td>
                                                <td>New York</td>
                                                <td>61</td>
                                                <td>2013/08/11</td>
                                                <td>$98,540</td>
                                            </tr>
                                            <tr>
                                                <td>Finn Camacho</td>
                                                <td>Support Engineer</td>
                                                <td>San Francisco</td>
                                                <td>47</td>
                                                <td>2009/07/07</td>
                                                <td>$87,500</td>
                                            </tr>
                                            <tr>
                                                <td>Serge Baldwin</td>
                                                <td>Data Coordinator</td>
                                                <td>Singapore</td>
                                                <td>64</td>
                                                <td>2012/04/09</td>
                                                <td>$138,575</td>
                                            </tr>
                                            <tr>
                                                <td>Zenaida Frank</td>
                                                <td>Software Engineer</td>
                                                <td>New York</td>
                                                <td>63</td>
                                                <td>2010/01/04</td>
                                                <td>$125,250</td>
                                            </tr>
                                            <tr>
                                                <td>Zorita Serrano</td>
                                                <td>Software Engineer</td>
                                                <td>San Francisco</td>
                                                <td>56</td>
                                                <td>2012/06/01</td>
                                                <td>$115,000</td>
                                            </tr>
                                            <tr>
                                                <td>Jennifer Acosta</td>
                                                <td>Junior Javascript Developer</td>
                                                <td>Edinburgh</td>
                                                <td>43</td>
                                                <td>2013/02/01</td>
                                                <td>$75,650</td>
                                            </tr>
                                            <tr>
                                                <td>Cara Stevens</td>
                                                <td>Sales Assistant</td>
                                                <td>New York</td>
                                                <td>46</td>
                                                <td>2011/12/06</td>
                                                <td>$145,600</td>
                                            </tr>
                                            <tr>
                                                <td>Hermione Butler</td>
                                                <td>Regional Director</td>
                                                <td>London</td>
                                                <td>47</td>
                                                <td>2011/03/21</td>
                                                <td>$356,250</td>
                                            </tr>
                                            <tr>
                                                <td>Lael Greer</td>
                                                <td>Systems Administrator</td>
                                                <td>London</td>
                                                <td>21</td>
                                                <td>2009/02/27</td>
                                                <td>$103,500</td>
                                            </tr>
                                            <tr>
                                                <td>Jonas Alexander</td>
                                                <td>Developer</td>
                                                <td>San Francisco</td>
                                                <td>30</td>
                                                <td>2010/07/14</td>
                                                <td>$86,500</td>
                                            </tr>
                                            <tr>
                                                <td>Shad Decker</td>
                                                <td>Regional Director</td>
                                                <td>Edinburgh</td>
                                                <td>51</td>
                                                <td>2008/11/13</td>
                                                <td>$183,000</td>
                                            </tr>
                                            <tr>
                                                <td>Michael Bruce</td>
                                                <td>Javascript Developer</td>
                                                <td>Singapore</td>
                                                <td>29</td>
                                                <td>2011/06/27</td>
                                                <td>$183,000</td>
                                            </tr>
                                            <tr>
                                                <td>Donna Snider</td>
                                                <td>Customer Support</td>
                                                <td>New York</td>
                                                <td>27</td>
                                                <td>2011/01/25</td>
                                                <td>$112,000</td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <th>Name</th>
                                                <th>Position</th>
                                                <th>Office</th>
                                                <th>Age</th>
                                                <th>Start date</th>
                                                <th>Salary</th>
                                            </tr>
                                        </tfoot> -->
                                        <tbody id="station-table"></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    
                
                    <div class="col-xl-6 col-xxl-6 col-sm-6">
                        <div class="card">
                            <div class="card-header">
                               <h4 class="card-title">地图</h4>
                            </div>
                            <div class="card-body">

                                <table id="stationTable">
                                    <thead>
                                        <tr>
                                            <th>站点名字</th>
                                            <th>地点</th>
                                        </tr>
                                    </thead>
                                    <tbody id="stationBody">
                                        <!-- 站点信息将通过 JavaScript 动态生成 -->
                                    </tbody>
                                    
                                </table>
                            
                                <div class="pagination" id="pagination"></div>
                            
                                <!-- <div class="selected-stations" id="selectedStations"></div>
                            
                                <button id="submitBtn">提交</button> -->

                            </div>
                        </div>
                    </div>

                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">已添加站点</h4>
                             </div>
                             <div class="card-body">
                                <div class="selected-stations" id="selectedStations"></div>
                            
                                <button id="submitBtn">提交</button>

                             </div>

                        </div>
                    </div>  
                            
                </div>
                
            
            </div>
        </div>
        <!--**********************************
            Content body end
        ***********************************-->    
       
     <!--**********************************
        Scripts
    ***********************************-->
    <script>
    //-----------------fetch data part:

// 状态映射
const statusMapping = {
    'm': '维护中',
    'o': '运营中',
    'b': '建设中'
};

// 状态类映射
const statusClassMapping = {
    'm': 'badge badge-danger',
    'o': 'badge badge-success',
    'b': 'badge badge-primary'
};

    // 获取CSRF令牌
async function getCsrfToken() {
    const response = await fetch('http://127.0.0.1:8000/catalog/api/get-csrf-token/');
    const data = await response.json();
    return data.csrfToken; // 根据响应结构调整
    }

// 获取所有站点信息
async function fetchStations() {
    const csrfToken = await getCsrfToken(); // 获取CSRF令牌
    const response = await fetch('http://127.0.0.1:8000/catalog/api/stations/list', {
        headers: {
            'X-CSRFToken': csrfToken
        }
    });

    if (response.ok) {
        const stations = await response.json();
        //loadStationsOnMap(stations); // 加载站点到地图
        displayStations(stations); // 显示站点信息表格
        Swal.fire({ icon: 'success', title: '成功!', text: '站点信息已成功加载。' });
    } else {
        const errorData = await response.json();
        Swal.fire({ icon: 'error', title: '错误!', text: errorData.detail || '获取站点信息失败。' });
    }
}
window.onload(fetchStations());


const selectedStationsContainer = document.getElementById('selectedStations');



//显示站点信息
function displayStations(stations) {
    const tableBody = document.getElementById('station-table');
    tableBody.innerHTML = ''; // 清空之前的内容

    stations.forEach(station => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${station.sName}</td>
            <td>${station.id}</td>
            
            <td><span class="${statusClassMapping[station.status] || ''}">${statusMapping[station.status] || '未知状态'}</span></td>
            <td>${station.latitude}, ${station.longitude}</td>
        `;


        tableBody.appendChild(row);
    });
    
 }


        //-----------------select station:
        // const selectedStationsContainer = document.getElementById('selectedStations');
        // const stationBody = document.getElementById('station-table');
        // let selectedStations = [];
        // const stationsPerPage = 6;
        // const totalStations = 50;
        // const stations = Array.from({ length: totalStations }, (_, i) => ({
        //     name: `站点${i + 1}`,
        //     location: `地点${i + 1}`,
        // }));

        // function renderStations() {
        //     stationBody.innerHTML = '';
        //     const start = (currentPage - 1) * stationsPerPage;
        //     const end = start + stationsPerPage;
        //     const displayStations = stations.slice(start, end);

        //     displayStations.forEach(station => {
        //         const row = document.createElement('tr');
        //         row.dataset.name = station.name;
        //         row.dataset.location = station.location;

        //         row.innerHTML = `<td>${station.name}</td><td>${station.location}</td>`;
        //         stationBody.appendChild(row);

        //         // 选中状态保持
        //         if (selectedStations.includes(station.name)) {
        //             row.classList.add('selected');
        //         }

        //         row.addEventListener('click', () => {
        //             const index = selectedStations.indexOf(station.name);
        //             if (index === -1) {
        //                 selectedStations.push(station.name);
        //                 row.classList.add('selected');
        //             } else {
        //                 selectedStations.splice(index, 1);
        //                 row.classList.remove('selected');
        //             }
        //             updateSelectedStations();
        //         });
        //     });
        // }

        // function renderPagination() {
        //     pagination.innerHTML = '';
        //     const totalPages = Math.ceil(totalStations / stationsPerPage);

        //     const createButton = (text, page) => {
        //         const button = document.createElement('button');
        //         button.textContent = text;
        //         button.addEventListener('click', () => {
        //             currentPage = page;
        //             renderStations();
        //             renderPagination();
        //         });
        //         return button;
        //     };

        //     if (currentPage > 1) {
        //         pagination.appendChild(createButton('<', currentPage - 1));
        //     }

        //     for (let i = 1; i <= totalPages; i++) {
        //         if (i === 1 || i === totalPages || (i >= currentPage - 1 && i <= currentPage + 1)) {
        //             const pageButton = createButton(i, i);
        //             if (i === currentPage) {
        //                 pageButton.disabled = true;
        //             }
        //             pagination.appendChild(pageButton);
        //         } else if (i === currentPage - 2 || i === currentPage + 2) {
        //             const ellipsis = document.createElement('span');
        //             ellipsis.textContent = '...';
        //             pagination.appendChild(ellipsis);
        //         }
        //     }

        //     if (currentPage < totalPages) {
        //         pagination.appendChild(createButton('>', currentPage + 1));
        //     }
        // }

        // function updateSelectedStations() {
        //     selectedStationsContainer.innerHTML = '';
        //     selectedStations.forEach(station => {
        //         const stationButton = document.createElement('div');
        //         stationButton.className = 'station-button';
        //         stationButton.textContent = station;

        //         stationButton.setAttribute('draggable', true);
        //         stationButton.addEventListener('dragstart', (e) => {
        //             e.dataTransfer.setData('text/plain', station);
        //         });

        //         stationButton.addEventListener('dragover', (e) => {
        //             e.preventDefault();
        //             stationButton.classList.add('over'); // 高亮显示
        //         });

        //         stationButton.addEventListener('dragleave', () => {
        //             stationButton.classList.remove('over'); // 去掉高亮
        //         });

        //         stationButton.addEventListener('drop', (e) => {
        //             e.preventDefault();
        //             const draggedStationName = e.dataTransfer.getData('text/plain');
        //             const draggingStation = Array.from(selectedStationsContainer.children).find(
        //                 button => button.textContent === draggedStationName
        //             );

        //             if (draggingStation && stationButton !== draggingStation) {
        //                 selectedStationsContainer.insertBefore(draggingStation, stationButton);
        //                 selectedStations = Array.from(selectedStationsContainer.children).map(button => button.textContent);
        //             }
        //         });

        //         selectedStationsContainer.appendChild(stationButton);
        //     });
        // }

        // document.getElementById('submitBtn').addEventListener('click', () => {
        //     alert('选择的公交站顺序: ' + selectedStations.join(', '));
        //     location.reload();
        // });

        // // 初始化渲染
        // let currentPage = 1;
        // renderStations();
        // renderPagination();
    </script>




    <!-- Required vendors -->
    <script src="./vendor/global/global.min.js"></script>
    <script src="./js/quixnav-init.js"></script>
    <script src="./js/custom.min.js"></script>


    <!-- Vectormap -->
    <script src="./vendor/raphael/raphael.min.js"></script>
    <script src="./vendor/morris/morris.min.js"></script>


    <script src="./vendor/circle-progress/circle-progress.min.js"></script>
    <script src="./vendor/chart.js/Chart.bundle.min.js"></script>

    <script src="./vendor/gaugeJS/dist/gauge.min.js"></script>

    <!--  flot-chart js -->
    <script src="./vendor/flot/jquery.flot.js"></script>
    <script src="./vendor/flot/jquery.flot.resize.js"></script>

    <!-- Owl Carousel -->
    <script src="./vendor/owl-carousel/js/owl.carousel.min.js"></script>

    <!-- Counter Up -->
    <script src="./vendor/jqvmap/js/jquery.vmap.min.js"></script>
    <script src="./vendor/jqvmap/js/jquery.vmap.usa.js"></script>
    <script src="./vendor/jquery.counterup/jquery.counterup.min.js"></script>


    <script src="./js/dashboard/dashboard-1.js"></script>

        <!-- Datatable -->
        <script src="./vendor/datatables/js/jquery.dataTables.min.js"></script>
        <script src="./js/plugins-init/datatables.init.js"></script>



        

</body>
</html>

